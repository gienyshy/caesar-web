{% extends "base.html" %}

{% block css %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}css/dashboard.css" type="text/css" />
<link rel="stylesheet" href="{{ STATIC_URL }}css/submit.css" type="text/css" />
{% endblock %}

{% block js %}
{{ block.super }}
<script>
$(document).ready(function(){
    $("select").change(function () {
          var written_dates = [
          {% for date in written_dates %}
           '{{date}}',
          {% endfor %}
          ]
          var str = "";
          $("select option:selected").each(function () {
                str = $(this).text();
              });
          var extension = parseInt(str);
          var left = {{total_extension_days}} - extension;
          $("#duedate").text("After this request, the current assignment will be due on " + written_dates[extension]);
          if (left == 1)
            $("#slackleft").text("I will have " + left + " slack day left for the rest of the semester.");
          else
            $("#slackleft").text("I will have " + left + " slack days left for the rest of the semester.");
        }).change();
});
</script>
{% endblock %}

{% block breadcrumbs %}
  <a class="breadcrumb first-breadcrumb" href="{% url dashboard.views.dashboard %}">Dashboard</a>
  <span class="breadcrumb">request extension</span>
{% endblock %}


{% block content %}
<div class="grey-container success">
<form id="extension-form" method="post">
  {% csrf_token %}
I would like to use 
  <select name="dayselect">
      {%for extension in possible_extensions %}
        {%if extension == current_extension %}
          <option value="{{extension}}" class="bigger-selector" selected="selected"> {{extension}} </option>
        {%else%}
          <option value="{{extension}}" class="bigger-selector"> {{extension}} </option>
        {%endif%}
      {%endfor%}
  </select> slack day{{ current_extension|pluralize }} on this assignment.
  </br>
  <button type="submit">Save</button>
  <button onclick="document.location = '/review';" id="cancel-button" type="button">Cancel</button>
</form>
<div id="duedate">
</div>
<div id="slackleft">
</div>
</div>
{% endblock %}
