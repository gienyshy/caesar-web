{% extends "base.html" %}

{% block css %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}css/dashboard.css" type="text/css" />
<link rel="stylesheet" href="{{ STATIC_URL }}css/summary.css" type="text/css" />
<link rel="stylesheet" href="{{ STATIC_URL }}css/blue/style.css" type="text/css" />
{% endblock %}

{% block js %}
{{ block.super }}

<script>
$(document).ready(function() {

    $('.activity-line').click(function(e) {
      var username = this.id.split('-')[1];
      window.location = "/accounts/user/" + username
      return false;
    });

    $("#allusers").tablesorter({
        sortList: [[0,0]]
    });
});
</script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jquery.tablesorter.js"></script>
{% endblock %}

{% block breadcrumbs %}
  <a class="breadcrumb first-breadcrumb" href="{% url dashboard.views.dashboard %}">Dashboard</a>
  <span class="breadcrumb">all users</span>
{% endblock %}


{% block content %}
<h2 class="task-header">all users</h2>
<table id="allusers" class="assignment-stream tablesorter">
  <thead>
  <tr>
      <th> User </th>
      <th> Reputation </th>
      <th> Role </th>
  </tr>
  </thead>
  {% for participant in participants %}
  <tr id="participant-{{participant.username}}" class="activity-line">
    <td class="black-text"> 
      {{ participant.first_name }} {{ participant.last_name }} 
      <span class="grey-text">({{ participant.username }})</span>
    </td>
    <td class="grey-text"> {{ participant.profile.reputation }} </td>
    <td class="grey-text"> {%if participant.profile.role %}{{ participant.profile.get_role_display }} {%endif%}</td>
  </tr>
  {% empty %}
  {% endfor %}
</table>
{% endblock %}
