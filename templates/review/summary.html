{% extends "base.html" %}

{% block css %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}css/dashboard.css" type="text/css" />
<link rel="stylesheet" href="{{ STATIC_URL }}css/summary.css" type="text/css" />
{% endblock %}

{% block js %}
{{ block.super }}

<script>
$(document).ready(function() {

    $('.activity-line').click(function(e) {
      var activityType = this.id.split('-')[0]
      var element_Id = this.id.split('-')[1];
      window.location = "/review/activity/" + activityType + "/" + element_Id;
      return false;
    });

});
</script>

{% endblock %}

{% block breadcrumbs %}
  <a class="breadcrumb first-breadcrumb" href="{% url review.views.dashboard %}">Dashboard</a>
{% endblock %}


{% block content %}

<h2 class="task-header">{{participant.username}}</h2>
<h2 class="task header"> reputation: {{participant.profile.reputation}}

<h2 class="task-header">activity stream</h2>
{% for assignment, review_data in assignment_data %}
<div id ="view-all-activity">
    <a href="/review/activity/{{assignment.name}}/{{participant.username}}"> view all activity</a>
</div>
<h3 class="assignment-display">
    <A NAME="assignment-display"></A> {{ assignment.name }}
</h3>



<div class="stream-list">
  {% for type, comment, is_vote, vote in review_data %}
  <div id="{% if is_vote %}vote-{{vote.id}}{% else %}comment-{{comment.id}}{% endif %}" class="activity-line">
    <span class="type" id="{{type}}" title="{{type}}">
    </span>
    <span class="comment-snippet" title="Comments">
        {{ comment.text }}
    </span>
    <span class="chunk-name" title="Task">
        {{ comment.chunk.name }}
    </span>
    <span class="last-modified" title="Modified">
        {{ comment.modified }}
    </span>
  </div>
  {% empty %}
  {% endfor %}
</div>
{% empty %}
{% endfor %}
{% endblock %}
