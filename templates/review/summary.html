{% extends "base.html" %}

{% block css %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}css/dashboard.css" type="text/css" />
{% endblock %}

{% block js %}
{{ block.super }}

<script>
$(document).ready(function() {

    $('.task-line').click(function(e) {
      var chunkId = this.id.split('-')[1];
      window.location = "/chunks/view/" + chunkId;
      return false;
    });

});
</script>

{% endblock %}

{% block breadcrumbs %}
  <a class="breadcrumb first-breadcrumb" href="{% url review.views.dashboard %}">Dashboard</a>
{% endblock %}


{% block content %}

<h2 class="task-header">submitted</h2>

<div class="task-list">
  {% for submission in submissions %}
    <a href="{{ submission.get_absolute_url }}"> {{ submission.assignment.name }} </a>
  {% empty %}
    No Submissions found.
  {% endfor %}
</div>


<h2 class="task-header">reviewed</h2>
<div class="task-list">
  {% for chunk, num in review_data %}
  
  <div id="chunk-{{chunk.id}}" class="task-line">
    <span class="chunk-name">
      {{ chunk.name }}
    </span>
    <span class="task-stats">
      <span class="comment-count" title="Comments">
        {{ num }}
      </span>
    </span>
    <span class="task-snippet">
      {{ chunk.generate_snippet }}
    </span>
  </div>
  {% empty %}
    No comments found.
  {% endfor %}
</div>
{% endblock %}
