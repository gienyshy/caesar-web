{% extends "base.html" %}

{% block css %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}css/dashboard.css" type="text/css" />
<link rel="stylesheet" href="{{ STATIC_URL }}css/summary.css" type="text/css" />
{% endblock %}

{% block js %}
{{ block.super }}

<script>
$(document).ready(function() {

    $('.activity-line').click(function(e) {
      var chunkId = this.id.split('-')[1];
      window.location = "/chunks/view/" + chunkId;
      return false;
    });

});
</script>

{% endblock %}

{% block breadcrumbs %}
  <a class="breadcrumb first-breadcrumb" href="{% url review.views.dashboard %}">Dashboard</a>
{% endblock %}


{% block content %}

<h2 class="task-header">{{user.username}}</h2>

<h2 class="task-header">submitted</h2>

<div class="task-list">
  {% for submission in submissions %}
    <a href="{{ submission.get_absolute_url }}"> {{ submission.assignment.name }} </a>
  {% empty %}
    No Submissions found.
  {% endfor %}
</div>


<h2 class="task-header">activity stream</h2>
<div class="task-list">
  {% for type, comment in review_data %}
  <div id="comment-{{comment.chunk.id}}" class="activity-line">
    <span class="type" id="{{type}}" title="Upvote">
    </span>
    <span class="comment-snippet" title="Comments">
        {{ comment.text }}
    </span>
    <span class="chunk-snippet" title="Code">
        {{ comment.generate_snippet }}
    </span>
  </div>
  {% empty %}
    No comments found.
  {% endfor %}
</div>
{% endblock %}
