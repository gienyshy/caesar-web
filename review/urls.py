from django.conf.urls.defaults import *
from django.views.generic import TemplateView

urlpatterns = patterns('',
    (r'^dashboard/?$', 'review.views.dashboard'),
    (r'^dashboard/(?P<username>\w+)', 'review.views.student_dashboard'),
    (r'^more_work', 'review.views.more_work'),
    (r'^cancel_assignment', 'review.views.cancel_assignment'),
    (r'^change_task/', 'review.views.change_task'),
    (r'^new_comment/', 'review.views.new_comment'),
    (r'^reply/', 'review.views.reply'),
    (r'^delete_comment/', 'review.views.delete_comment'),
    (r'^edit_comment/', 'review.views.edit_comment'),
    (r'^vote/', 'review.views.vote'),
    (r'^unvote/', 'review.views.unvote'),
    (r'activity/(?P<review_milestone_id>\d+)/(?P<username>\w+)', 'review.views.all_activity'),
    (r'^search', 'review.views.search'),
    (r'login/', 'django.contrib.auth.views.login', {
        'template_name': 'review/login.html',
    }),
    (r'logout/', 'django.contrib.auth.views.logout'),
    (r'register/(?P<email>.+alum\.mit\.edu)/(?P<code>[0-9A-Fa-f]+$)', 'review.views.register'),
    (r'reputation_adj/', 'review.views.reputation_adjustment'),
    (r'register/', 'review.views.invalid_registration'),
    (r'^reset/$', 'django.contrib.auth.views.password_reset',
                  {'template_name': 'review/reset.html'}),
    (r'^reset/done/$', 'django.contrib.auth.views.password_reset_done',
                      {'template_name': 'review/reset_done.html'}),
    (r'^reset/confirm/(?P<uidb36>[0-9A-Za-z]+)-(?P<token>.+)/$',
            'django.contrib.auth.views.password_reset_confirm',
            {'template_name': 'review/reset_confirm.html'}),
    (r'^reset/complete/$', 'django.contrib.auth.views.password_reset_complete',
                           {'template_name': 'review/reset_complete.html'}),
    (r'registration/$', 'review.views.registration_request'),
    (r'^registration/complete/$', TemplateView.as_view(template_name='review/registration_request_complete.html')),
    (r'^enroll/', 'review.views.edit_membership'),
    (r'bulk_add/', 'review.views.bulk_add'),
    (r'^user/(?P<username>\w+)/edit', 'review.views.edit_profile'),
    (r'^user/(?P<username>\w+)', 'review.views.view_profile'),
    (r'^request_extension/(?P<milestone_id>\d+)', 'review.views.request_extension'),
    (r'^allusers/', 'review.views.allusers'),
    (r'^manage/', 'review.views.manage'),
    (r'^all_extensions/(?P<milestone_id>\d+)', 'review.views.all_extensions'),
)
